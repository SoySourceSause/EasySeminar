<!DOCTYPE html>
<html>

  <head>
    <title>실제 참여 수강생 정보</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <script src="https://www.gstatic.com/firebasejs/5.5.1/firebase.js"></script>

    <style >
      div {
        margin: 10px;
  border-radius: 5px;
    background-color: #3A405A;
    padding: 50px;
  }

  h1 {
    color: #ffffff;
  }
  ul{
    color: #ffffff;
  }

  input[type=submit]{
    padding: 12px 20px;
    margin: 8px 0;
    display: inline-block;
    border: 1px solid #ccc;
    border-radius: 4px;
    box-sizing: border-box;
  }

    </style>
  </head>

  <body>
  <div>
    <h1>Attendance Information</h1>
    <ul id = 'present'></ul>
    <script>
      const config = {
      
        apiKey: "AIzaSyDQQqY-iNLB8rEUVjIVbalJOXj9RJYrFB8",
        authDomain: "easyseminardb.firebaseapp.com",
        databaseURL: "https://easyseminardb.firebaseio.com",
        projectId: "easyseminardb",
        storageBucket: "easyseminardb.appspot.com", 
      };  
      firebase.initializeApp(config);
      label = 'personal'
      const prelabel = document.getElementById(label);   
      const ulList = document.getElementById('present');
      const dbReflabel = firebase.database().ref().child(label);
      //Sync object changes
      dbReflabel.on('value', snap => {
        prelabel.innerText = JSON.stringify(snap.val(),null, 3);
      });
      
      //Sync object changes
      dbReflabel.on('child_added', snap => {
        const li = document.createElement('li');
        li.innerText = snap.key;
        ulList.appendChild(li);
        
      }); 
     
    </script>
    <form action="/table">
      <input type="submit" value="Detail Information">
      <br><br>
    </form>

    </div>
  </body>
</html>